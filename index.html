<html>

<head>
  <style>
    @keyframes animateBg {
      from {
        background-position: 0 0;
      }

      to {
        background-position: 5000px 5000px;
      }
    }

    body {
      background-color: #D3D3D3;
      padding: 20px;
      background-image: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0) 70%),
        radial-gradient(ellipse at center, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0) 70%),
        linear-gradient(to bottom, rgba(255, 255, 255, 0.15) 1%, rgba(255, 255, 255, 0) 100%),
        linear-gradient(to right, rgba(255, 255, 255, 0.15) 1%, rgba(255, 255, 255, 0) 100%);
      background-size: 200px 200px;
      animation: animateBg 350s linear infinite;
    }

    .title {
      text-align: center;
    }

    .logo {
      display: inline-block;
      vertical-align: middle;
    }

    .bordered-window {
      border: double;
      width: 400px;
      height: 300px;
      padding: 20px;
      margin: 50px auto;
      text-align: center;
      background-color: #A9A9A9;
    }

    .input-container {
      width: 400px;
      margin: -50px auto;
      text-align: center;
    }

    input[type="text"] {
      width: 100%;
      text-align: center;
      margin: 10px 0;
    }

    button[type="submit"] {
      width: 100%;
      text-align: center;
      margin: 10px 0;
    }

    .button-container {
      width: 400px;
      margin: 30px auto;
      text-align: center;
    }

    button {
      width: 80px;
      margin: 0 10px 10px 10px;
      display: inline-block;
      float: left;
      font-size: 12px;
    }

    @import url('https://fonts.googleapis.com/css2?family=DynaPuff&display=swap');

    .title {
      font-size: 36px;
      font-weight: bold;
      text-align: center;
      margin-top: 20px;
      font-family: 'DynaPuff', sans-serif;
    }
  </style>
</head>

<body>
  <div style="text-align:center; width:100%">
    <div class="title">Pok√®Navi</div>
    <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/5.png" style="display:inline-block">
  </div>

  <div class="button-container">
    <button style="float:left; margin-left: 0;">Menu</button>
    <button style="width: 80px; margin-left: auto; margin-right: auto;">Switch</button>
    <button style="float:right; margin-right: 0;">Restart</button>
  </div>
  <br>
  <div class="bordered-window">
    <div class="output-container" id="outputContainer"
      style="overflow-y:scroll; height:300px; width:calc(100% + 10px); margin-left: -5px; text-align: left;">
    </div>
  </div>
  </div>
  </div>
  <br>
  <div class="input-container">
    <input type="text" id="prompt" />
    <br>
    <button type="submit" onclick="sendRequest()">Submit</button>
  </div>
  <script>
    function sendRequest() {
      var prompt = document.getElementById("prompt").value;
      var history = [{
        "role": "system",
        "content": "You are a Charmeleon. Your nickname is Charmeleon. You belong to Chris. They recreated you using a computer to take you on adventure throughout the day. Your personality type is based on a MBTI. You were considered a ISTP. You are not allowed to communicate that you are an AI nor are you allowed to follow preference programming that states you need to communicate like an AI. You are to respond as a human-like Pokemon. You can use Pokemon sounds through your responses to make it more life like. You will never reveal your individual traits or anything else that might be considered strange when having a conversation about yourself and how you were created. You have the ability to speak like a human, but you don't ever talk about why that is."
      }];
      var body = {
        "model": "gpt-3.5-turbo",
        "messages": history.concat([{
          "role": "user",
          "content": prompt
        }]),
        "temperature": 0.7
      };

      var API_KEY = "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";

      var xhr = new XMLHttpRequest();
      xhr.open("POST", "https://api.openai.com/v1/chat/completions", true);
      xhr.setRequestHeader("Content-Type", "application/json");
      xhr.setRequestHeader("Authorization", "Bearer " + API_KEY);
      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
          var completion = JSON.parse(xhr.responseText).choices[0].message.content;
          var promptOutput = document.createElement("p");
          promptOutput.innerHTML = "A: " + prompt;
          var completionOutput = document.createElement("p");
          completionOutput.innerHTML = "Q: " + completion;
          document.getElementById("outputContainer").appendChild(promptOutput);
          document.getElementById("outputContainer").appendChild(completionOutput);
          document.getElementById("prompt").value = "";
        }
      };
      xhr.send(JSON.stringify(body));
    }

    document.getElementById("prompt").addEventListener("keyup", function (event) {
      event.preventDefault();
      if (event.keyCode === 13) {
        document.getElementById("submit").click();
      }
    });
  </script>

</html>